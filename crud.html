<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CRUD Firebase - Pacientes</title>
</head>
<body>
  <h1>Registrar Paciente</h1>
  <form id="pacienteForm">
    <label for="cedula">Cédula:</label>
    <input type="text" id="cedula" required><br><br>

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" required><br><br>

    <label for="fechaNacimiento">Fecha de Nacimiento:</label>
    <input type="date" id="fechaNacimiento" required><br><br>

    <label for="direccion">Dirección:</label>
    <input type="text" id="direccion" required><br><br>
    <button type="button" onclick="crearRegistro()">Crear</button>
    
  </form>

  <h2>Listado de Pacientes</h2>
  <ul id="pacientesList"></ul>

  <!-- Importar Firebase y tu archivo de JavaScript -->
  <script type="module">
    
      // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, push, onValue, remove } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAM1mSZe-sJNK585NpKme-RNJ8ppkYIrmA",
            authDomain: "crud-registro-442d9.firebaseapp.com",
            databaseURL: "https://crud-registro-442d9-default-rtdb.firebaseio.com",
            projectId: "crud-registro-442d9",
            storageBucket: "crud-registro-442d9.appspot.com",
            messagingSenderId: "268371553667",
            appId: "1:268371553667:web:0c763d6051a94ba2d0dab6"
        };
        
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
        window.crearRegistro = function () {
            const cedula = document.getElementById('cedula').value;
            const nombre = document.getElementById('nombre').value;
            const fechaNacimiento = document.getElementById('fechaNacimiento').value;
            const direccion = document.getElementById('direccion').value;
                console.log(nombre, cedula, fechaNacimiento, direccion);
                
                push(
                    ref(db, 'sistemasA'),
                    {
                        cedula: cedula,
                        nombre: nombre,
                        fechaNacimiento: fechaNacimiento,
                        direccion: direccion
                    }
                );

            }

        </script>




  
</body>
</html>
